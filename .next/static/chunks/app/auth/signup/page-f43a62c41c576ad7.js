(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5271],{5227:function(e,t,n){Promise.resolve().then(n.bind(n,4547))},2921:function(e,t,n){"use strict";var r=n(6168);n.o(r,"redirect")&&n.d(t,{redirect:function(){return r.redirect}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},4547:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(6871),s=n(2921),a=n(90),i=n(5977),u=n.n(i),o=n(3880),c=n(8839),l=n(9602),h=n(7447),d=n(403),f=n.n(d),p=n(7437);function _(){var e,t=(0,s.useRouter)(),n=(0,r.useState)(""),i=n[0],d=n[1],_=(0,r.useState)(""),m=_[0],g=_[1],v=(0,r.useState)(""),x=v[0],w=v[1],b=(0,r.useState)(null),A=b[0],j=b[1],C=(0,r.useState)(!1),N=C[0],k=C[1],y=(e=(0,a.Z)(u().mark(function e(n){var r,s,a,o;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),j(null),!(m!==x)){e.next=5;break}return j("Passwords do not match"),e.abrupt("return");case 5:return k(!0),e.prev=6,e.next=9,c.OQ.auth.signUp({email:i,password:m,options:{emailRedirectTo:"".concat(location.origin,"/auth/callback")}});case 9:if(s=(r=e.sent).error,a=r.data,!s){e.next=14;break}throw s;case 14:if(!a.user){e.next=21;break}return e.next=17,c.OQ.from("profiles").insert({id:a.user.id,user_id:a.user.id,email:a.user.email});case 17:if(!(o=e.sent.error)){e.next=21;break}throw o;case 21:t.push("/auth/verify"),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(6),j(e.t0 instanceof Error?e.t0.message:"An error occurred");case 27:return e.prev=27,k(!1),e.finish(27);case 30:case"end":return e.stop()}},e,null,[[6,24,27,30]])})),function(t){return e.apply(this,arguments)});return(0,p.jsx)("div",{className:f().authContainer,children:(0,p.jsxs)("div",{className:f().authCard,children:[(0,p.jsx)("h2",{children:"Create Account"}),A&&(0,p.jsx)("div",{className:f().error,children:A}),(0,p.jsxs)("form",{onSubmit:y,className:f().form,children:[(0,p.jsxs)("div",{className:f().inputGroup,children:[(0,p.jsx)("label",{htmlFor:"email",children:"Email"}),(0,p.jsx)("input",{id:"email",type:"email",value:i,onChange:function(e){return d(e.target.value)},placeholder:"Enter your email",required:!0})]}),(0,p.jsxs)("div",{className:f().inputGroup,children:[(0,p.jsx)("label",{htmlFor:"password",children:"Password"}),(0,p.jsx)("input",{id:"password",type:"password",value:m,onChange:function(e){return g(e.target.value)},placeholder:"Enter your password",required:!0,minLength:6}),(0,p.jsx)(h.Y,{password:m})]}),(0,p.jsxs)("div",{className:f().inputGroup,children:[(0,p.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,p.jsx)("input",{id:"confirmPassword",type:"password",value:x,onChange:function(e){return w(e.target.value)},placeholder:"Confirm your password",required:!0,minLength:6})]}),(0,p.jsx)("button",{type:"submit",disabled:N,className:f().button,children:N?"Creating account...":"Sign Up"})]}),(0,p.jsxs)("p",{className:f().switchAuth,children:["Already have an account? ",(0,p.jsx)(o.default,{href:"/auth/signin",children:"Sign in here"})]}),(0,p.jsx)(l.J,{redirectTo:"/onboarding"})]})})}function m(){var e=(0,s.useRouter)(),t=(0,c.$4)().session;return(0,r.useEffect)(function(){t&&e.push("/")},[t,e]),(0,p.jsx)(_,{})}},7447:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(7110),s=n(6871),a=n(403),i=n.n(a),u=n(7437);function o(e){var t=e.password,n=(0,s.useMemo)(function(){if(!t)return 0;var e=0;return t.length>=8&&(e+=1),t.length>=12&&(e+=1),/[A-Z]/.test(t)&&(e+=1),/[a-z]/.test(t)&&(e+=1),/[0-9]/.test(t)&&(e+=1),/[^A-Za-z0-9]/.test(t)&&(e+=1),/(.)\1{2,}/.test(t)&&(e-=1),/^(?:123|abc|qwerty)/i.test(t)&&(e-=1),Math.max(0,Math.min(4,e))},[t]),a=(0,s.useMemo)(function(){return t?["Very Weak","Weak","Fair","Good","Strong"][n]:""},[t,n]),o=(0,s.useMemo)(function(){return["none","weak","fair","good","strong"][n]},[n]);return t?(0,u.jsxs)("div",{className:i().passwordStrength,children:[(0,u.jsx)("div",{className:i().strengthBars,children:(0,r.Z)([,,,,]).map(function(e,t){return(0,u.jsx)("div",{className:"".concat(i().strengthBar," ").concat(t<n?i()[o]:"")},t)})}),(0,u.jsx)("span",{className:"".concat(i().strengthLabel," ").concat(i()[o]),children:a})]}):null}},9602:function(e,t,n){"use strict";n.d(t,{J:function(){return d}});var r=n(90),s=n(5977),a=n.n(s),i=n(6871),u=n(8839),o=n(403),c=n.n(o),l=n(7437),h=[{id:"google",name:"Google",icon:"\uD83D\uDD0D"},{id:"github",name:"GitHub",icon:"\uD83D\uDC31"},{id:"discord",name:"Discord",icon:"\uD83D\uDCAC"}];function d(e){var t,n=e.redirectTo,s=void 0===n?"/":n,o=(0,i.useState)(null),d=o[0],f=o[1],p=(0,i.useState)(null),_=p[0],m=p[1],g=(t=(0,r.Z)(a().mark(function e(t){var n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(t),m(null),e.next=5,u.OQ.auth.signInWithOAuth({provider:t,options:{redirectTo:"".concat(location.origin,"/auth/callback?next=").concat(s),queryParams:{access_type:"offline",prompt:"consent"}}});case 5:if(!(n=e.sent.error)){e.next=9;break}throw n;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),m(e.t0 instanceof Error?e.t0.message:"An error occurred");case 14:return e.prev=14,f(null),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])})),function(e){return t.apply(this,arguments)});return(0,l.jsxs)("div",{className:c().socialLogin,children:[_&&(0,l.jsx)("div",{className:c().error,children:_}),(0,l.jsx)("div",{className:c().divider,children:(0,l.jsx)("span",{children:"Or continue with"})}),(0,l.jsx)("div",{className:c().socialButtons,children:h.map(function(e){return(0,l.jsxs)("button",{onClick:function(){return g(e.id)},disabled:null!==d,className:"".concat(c().socialButton," ").concat(d===e.id?c().loading:""),children:[(0,l.jsx)("span",{className:c().socialIcon,children:e.icon}),d===e.id?"Connecting...":e.name]},e.id)})})]})}},8839:function(e,t,n){"use strict";n.d(t,{$4:function(){return c},OQ:function(){return o}});var r=n(90),s=n(5977),a=n.n(s),i=n(1080),u=n(6871),o=(0,i.createBrowserClient)("https://mtzhxqdhdxdwxwtfcjup.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im10emh4cWRoZHhkd3h3dGZjanVwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2Mzk0MjYsImV4cCI6MjA1NTIxNTQyNn0.vhZdFQUAbPG9NQoyblTrHLXBVE2gomijhz_CliAIdy8");function c(){var e=(0,u.useState)(null),t=e[0],n=e[1],s=(0,u.useState)(!0),i=s[0],c=s[1];return(0,u.useEffect)(function(){var e,t=o.auth.onAuthStateChange((e=(0,r.Z)(a().mark(function e(t,r){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n(r),c(!1);case 2:case"end":return e.stop()}},e)})),function(t,n){return e.apply(this,arguments)})).data;return o.auth.getSession().then(function(e){n(e.data.session),c(!1)}),function(){null==t||t.subscription.unsubscribe()}},[]),{supabase:o,session:t,loading:i}}},403:function(e){e.exports={authContainer:"Auth_authContainer__9hpcP",authCard:"Auth_authCard__Epfi_",form:"Auth_form__gKX2V",inputGroup:"Auth_inputGroup__erHY_",button:"Auth_button__WPiy2",error:"Auth_error__zLmji",switchAuth:"Auth_switchAuth__f3YH8",verifyMessage:"Auth_verifyMessage__2OD2S",forgotPassword:"Auth_forgotPassword__JxAhV",success:"Auth_success__lOfpS",socialLogin:"Auth_socialLogin__nRwZb",divider:"Auth_divider__9OXnK",socialButtons:"Auth_socialButtons__p_BI1",socialButton:"Auth_socialButton__JJH2X",loading:"Auth_loading__avxr1",socialIcon:"Auth_socialIcon__KqvI2",passwordStrength:"Auth_passwordStrength__MNgfo",strengthBars:"Auth_strengthBars__3sJny",strengthBar:"Auth_strengthBar__RCHwa",weak:"Auth_weak__QogYV",fair:"Auth_fair__BxmS7",good:"Auth_good__w0Ja1",strong:"Auth_strong__pT764",strengthLabel:"Auth_strengthLabel__SGp9T"}}},function(e){e.O(0,[72,9762,7972,3880,2971,529,1744],function(){return e(e.s=5227)}),_N_E=e.O()}]);