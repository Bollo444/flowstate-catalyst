(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2048],{2630:function(t,e,r){Promise.resolve().then(r.bind(r,722))},2921:function(t,e,r){"use strict";var n=r(6168);r.o(n,"redirect")&&r.d(e,{redirect:function(){return n.redirect}}),r.o(n,"useRouter")&&r.d(e,{useRouter:function(){return n.useRouter}})},722:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return f}});var n=r(6871),s=r(2921),a=r(90),u=r(5977),o=r.n(u),i=r(8839),c=r(7447),h=r(403),d=r.n(h),l=r(7437);function _(){var t,e=(0,s.useRouter)(),r=(0,n.useState)(""),u=r[0],h=r[1],_=(0,n.useState)(""),f=_[0],p=_[1],w=(0,n.useState)(null),m=w[0],g=w[1],v=(0,n.useState)(null),x=v[0],A=v[1],b=(0,n.useState)(!1),j=b[0],N=b[1],I=(t=(0,a.Z)(o().mark(function t(r){var n;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),g(null),A(null),!(u!==f)){t.next=6;break}return g("Passwords do not match"),t.abrupt("return");case 6:return N(!0),t.prev=7,t.next=10,i.OQ.auth.updateUser({password:u});case 10:if(!(n=t.sent.error)){t.next=14;break}throw n;case 14:A("Password updated successfully"),setTimeout(function(){e.push("/auth/signin")},2e3),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(7),g(t.t0 instanceof Error?t.t0.message:"An error occurred");case 21:return t.prev=21,N(!1),t.finish(21);case 24:case"end":return t.stop()}},t,null,[[7,18,21,24]])})),function(e){return t.apply(this,arguments)});return(0,l.jsx)("div",{className:d().authContainer,children:(0,l.jsxs)("div",{className:d().authCard,children:[(0,l.jsx)("h2",{children:"Set New Password"}),m&&(0,l.jsx)("div",{className:d().error,children:m}),x&&(0,l.jsx)("div",{className:d().success,children:x}),(0,l.jsxs)("form",{onSubmit:I,className:d().form,children:[(0,l.jsxs)("div",{className:d().inputGroup,children:[(0,l.jsx)("label",{htmlFor:"password",children:"New Password"}),(0,l.jsx)("input",{id:"password",type:"password",value:u,onChange:function(t){return h(t.target.value)},placeholder:"Enter new password",required:!0,minLength:6}),(0,l.jsx)(c.Y,{password:u})]}),(0,l.jsxs)("div",{className:d().inputGroup,children:[(0,l.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,l.jsx)("input",{id:"confirmPassword",type:"password",value:f,onChange:function(t){return p(t.target.value)},placeholder:"Confirm new password",required:!0,minLength:6})]}),(0,l.jsx)("button",{type:"submit",disabled:j,className:d().button,children:j?"Updating password...":"Update Password"})]})]})})}function f(){var t=(0,s.useRouter)(),e=(0,i.$4)().session;return(0,n.useEffect)(function(){e&&t.push("/")},[e,t]),(0,l.jsx)(_,{})}},7447:function(t,e,r){"use strict";r.d(e,{Y:function(){return i}});var n=r(7110),s=r(6871),a=r(403),u=r.n(a),o=r(7437);function i(t){var e=t.password,r=(0,s.useMemo)(function(){if(!e)return 0;var t=0;return e.length>=8&&(t+=1),e.length>=12&&(t+=1),/[A-Z]/.test(e)&&(t+=1),/[a-z]/.test(e)&&(t+=1),/[0-9]/.test(e)&&(t+=1),/[^A-Za-z0-9]/.test(e)&&(t+=1),/(.)\1{2,}/.test(e)&&(t-=1),/^(?:123|abc|qwerty)/i.test(e)&&(t-=1),Math.max(0,Math.min(4,t))},[e]),a=(0,s.useMemo)(function(){return e?["Very Weak","Weak","Fair","Good","Strong"][r]:""},[e,r]),i=(0,s.useMemo)(function(){return["none","weak","fair","good","strong"][r]},[r]);return e?(0,o.jsxs)("div",{className:u().passwordStrength,children:[(0,o.jsx)("div",{className:u().strengthBars,children:(0,n.Z)([,,,,]).map(function(t,e){return(0,o.jsx)("div",{className:"".concat(u().strengthBar," ").concat(e<r?u()[i]:"")},e)})}),(0,o.jsx)("span",{className:"".concat(u().strengthLabel," ").concat(u()[i]),children:a})]}):null}},8839:function(t,e,r){"use strict";r.d(e,{$4:function(){return c},OQ:function(){return i}});var n=r(90),s=r(5977),a=r.n(s),u=r(1080),o=r(6871),i=(0,u.createBrowserClient)("https://mtzhxqdhdxdwxwtfcjup.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im10emh4cWRoZHhkd3h3dGZjanVwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk2Mzk0MjYsImV4cCI6MjA1NTIxNTQyNn0.vhZdFQUAbPG9NQoyblTrHLXBVE2gomijhz_CliAIdy8");function c(){var t=(0,o.useState)(null),e=t[0],r=t[1],s=(0,o.useState)(!0),u=s[0],c=s[1];return(0,o.useEffect)(function(){var t,e=i.auth.onAuthStateChange((t=(0,n.Z)(a().mark(function t(e,n){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r(n),c(!1);case 2:case"end":return t.stop()}},t)})),function(e,r){return t.apply(this,arguments)})).data;return i.auth.getSession().then(function(t){r(t.data.session),c(!1)}),function(){null==e||e.subscription.unsubscribe()}},[]),{supabase:i,session:e,loading:u}}},403:function(t){t.exports={authContainer:"Auth_authContainer__9hpcP",authCard:"Auth_authCard__Epfi_",form:"Auth_form__gKX2V",inputGroup:"Auth_inputGroup__erHY_",button:"Auth_button__WPiy2",error:"Auth_error__zLmji",switchAuth:"Auth_switchAuth__f3YH8",verifyMessage:"Auth_verifyMessage__2OD2S",forgotPassword:"Auth_forgotPassword__JxAhV",success:"Auth_success__lOfpS",socialLogin:"Auth_socialLogin__nRwZb",divider:"Auth_divider__9OXnK",socialButtons:"Auth_socialButtons__p_BI1",socialButton:"Auth_socialButton__JJH2X",loading:"Auth_loading__avxr1",socialIcon:"Auth_socialIcon__KqvI2",passwordStrength:"Auth_passwordStrength__MNgfo",strengthBars:"Auth_strengthBars__3sJny",strengthBar:"Auth_strengthBar__RCHwa",weak:"Auth_weak__QogYV",fair:"Auth_fair__BxmS7",good:"Auth_good__w0Ja1",strong:"Auth_strong__pT764",strengthLabel:"Auth_strengthLabel__SGp9T"}}},function(t){t.O(0,[72,9762,7972,2971,529,1744],function(){return t(t.s=2630)}),_N_E=t.O()}]);