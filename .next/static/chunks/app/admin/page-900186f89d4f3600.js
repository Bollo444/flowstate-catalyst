(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{3251:function(e,n,t){Promise.resolve().then(t.bind(t,6923))},9311:function(e,n,t){"use strict";var r=t(5977),o=t(9985);function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,l={};!function(e,n){for(var t in n)i(e,t,{get:n[t],enumerable:!0})}(l,{SessionContextProvider:function(){return h},useSession:function(){return m},useSessionContext:function(){return b},useSupabaseClient:function(){return p},useUser:function(){return y}}),e.exports=function(e,n,t,r){if(n&&"object"==typeof n||"function"==typeof n){var o,l=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return u(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,void 0)}}(e))){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==t.return||t.return()}finally{if(a)throw i}}}}(a(n));try{for(l.s();!(o=l.n()).done;)!function(){var t=o.value;c.call(e,t)||void 0===t||i(e,t,{get:function(){return n[t]},enumerable:!(r=s(n,t))||r.enumerable})}()}catch(e){l.e(e)}finally{l.f()}}return e}(i({},"__esModule",{value:!0}),l);var f=t(6871),d=t(7437),v=(0,f.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),h=function(e){var n=e.supabaseClient,t=e.initialSession,u=void 0===t?null:t,i=e.children,s=o((0,f.useState)(u),2),a=s[0],c=s[1],l=o((0,f.useState)(!u),2),h=l[0],b=l[1],p=o((0,f.useState)(),2),m=p[0],y=p[1];(0,f.useEffect)(function(){!a&&u&&c(u)},[a,u]),(0,f.useEffect)(function(){var e=!0;return function(){var t,o;t=this,o=r.mark(function t(){var o,u,i;return r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.auth.getSession();case 2:if(u=(o=t.sent).data.session,i=o.error,!e){t.next=12;break}if(!i){t.next=10;break}return y(i),b(!1),t.abrupt("return");case 10:c(u),b(!1);case 12:case"end":return t.stop()}},t)}),new Promise(function(e,n){var r=function(e){try{i(o.next(e))}catch(e){n(e)}},u=function(e){try{i(o.throw(e))}catch(e){n(e)}},i=function(n){return n.done?e(n.value):Promise.resolve(n.value).then(r,u)};i((o=o.apply(t,null)).next())})}(),function(){e=!1}},[]),(0,f.useEffect)(function(){var e=n.auth.onAuthStateChange(function(e,n){n&&("SIGNED_IN"===e||"TOKEN_REFRESHED"===e||"USER_UPDATED"===e)&&c(n),"SIGNED_OUT"===e&&c(null)}).data.subscription;return function(){e.unsubscribe()}},[]);var x=(0,f.useMemo)(function(){return h?{isLoading:!0,session:null,error:null,supabaseClient:n}:m?{isLoading:!1,session:null,error:m,supabaseClient:n}:{isLoading:!1,session:a,error:null,supabaseClient:n}},[h,a,m]);return(0,d.jsx)(v.Provider,{value:x,children:i})},b=function(){var e=(0,f.useContext)(v);if(void 0===e)throw Error("useSessionContext must be used within a SessionContextProvider.");return e};function p(){var e=(0,f.useContext)(v);if(void 0===e)throw Error("useSupabaseClient must be used within a SessionContextProvider.");return e.supabaseClient}var m=function(){var e=(0,f.useContext)(v);if(void 0===e)throw Error("useSession must be used within a SessionContextProvider.");return e.session},y=function(){var e,n,t=(0,f.useContext)(v);if(void 0===t)throw Error("useUser must be used within a SessionContextProvider.");return null!=(n=null==(e=t.session)?void 0:e.user)?n:null}},2921:function(e,n,t){"use strict";var r=t(6168);t.o(r,"redirect")&&t.d(n,{redirect:function(){return r.redirect}}),t.o(r,"useRouter")&&t.d(n,{useRouter:function(){return r.useRouter}})},6923:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var r=t(9311),o=t(2921),u=t(7437);function i(){var e,n=(0,r.useUser)();return(null==n||null===(e=n.user_metadata)||void 0===e?void 0:e.role)!=="admin"&&(0,o.redirect)("/"),(0,u.jsxs)("div",{className:"p-6",children:[(0,u.jsx)("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),(0,u.jsx)("p",{className:"mt-4",children:"Welcome to the admin dashboard. Manage users and roles here."})]})}}},function(e){e.O(0,[2971,529,1744],function(){return e(e.s=3251)}),_N_E=e.O()}]);